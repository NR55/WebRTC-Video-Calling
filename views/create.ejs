<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create Room</title>
    <link rel="stylesheet" href="/style.css" />
    <% if (prem===true) { %>
        <link rel="stylesheet" href="/prem.css">
    <% } %>
    <style>
    .form-group {
      display: flex;
      align-items: center;
      margin-bottom: 0;
    }

    .form-group label {
      margin-right: 10px;
      padding: 0;
      vertical-align: middle;
    }
    </style>
    <link rel="stylesheet" href="/navbar.css">
</head>

<body style="display: flex; align-items: normal;
justify-content: normal;">
<div id="navbar"></div>
    <div class="form-container">
        <h2>Create Room</h2>
        <% if (error) { %>
            <p class="message">
                <%= error %>
            </p>
            <% } %>
                <form action="/create" method="post">
                    <div class="form-group">
                        <input type="text" id="roomName" name="roomName" placeholder="Room Name" required />
                    </div>
                    <br>

                    <input type="button" onclick="randomize()" value="Randomize" class="submit-btn"><br>

                    <div class="form-group">
                        <input type="text" name="description" placeholder="Room Description" />
                    </div>
                    <br>

                    <div class="form-group">
                        <label for="roomLocked">Room Locked:</label>
                        <div class="form-check form-check-inline">
                            <div class="toggle">
                                <input type="checkbox" class="form-check-input" id="roomLockedCheck"
                                    name="roomLockedCheck" hidden />
                                <label for="roomLockedCheck" class="toggle-label"></label><br>
                            </div>
                            <input type="hidden" name="roomLockedOutput" value="false" />
                        </div>
                    </div>
                    <div class="form-group">
                        <input type="text" name="roomKey" id="roomKey" placeholder="Room Key" style="display: none;" />
                    </div> <br>
                    <input type="submit" value="Create Room" class="submit-btn" />
                </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
    <script>
        function randomize() {
            document.getElementById("roomName").value = uuidv4();
        }

        document.getElementById('roomLockedCheck').addEventListener('change', function () {
            var roomKeyInput = document.getElementById('roomKey');
            var roomLockedInput = document.querySelector('input[name="roomLockedOutput"]');
            roomKeyInput.style.display = this.checked ? 'block' : 'none';
            roomKeyInput.required = this.checked;
            roomLockedInput.value = this.checked ? "true" : "false";
        });

    </script>
    <script src="/navbar.js"></script>
</body>

</html>
